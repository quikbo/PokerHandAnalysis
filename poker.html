<html>
<head>
    <title>Poker Hand Analytics</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .container {
            margin-top: 30px;
            max-width: 800px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .btn-group {
            margin-top: 20px;
        }
        h2 {
            margin-bottom: 20px;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Poker Hand Analytics</h2>

        <form action="poker_analytics.php" method="get">
            <!-- Game Analysis Section -->
            <div class="form-group">
                <h4>Game Analysis</h4>
                <label for="analysis_type">Select Analysis Type:</label>
                <select name="analysis_type" id="analysis_type" class="form-select">
                    <option value="">Choose analysis type...</option>
                    <option value="getGames">View All Games</option>
                    <option value="getPlayerStats">Player Statistics</option>
                    <option value="getGameHands">Hand History</option>
                    <option value="getHandActions">Hand Actions</option>
                </select>
            </div>

            <!-- Game Selection -->
            <div class="form-group" id="gameIdGroup">
                <label for="gameId">Game ID:</label>
                <input type="text" class="form-control" name="gameId" id="gameId" placeholder="Enter Game ID (e.g., G30)">
            </div>

            <!-- Hand Selection -->
            <div class="form-group" id="handIdGroup" style="display: none;">
                <label for="handId">Hand ID:</label>
                <input type="text" class="form-control" name="handId" id="handId" placeholder="Enter Hand ID (e.g., H30_1)">
            </div>

            <!-- Filter Options -->
            <div class="form-group">
                <h4>Additional Filters</h4>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="showProfitLoss" name="showProfitLoss">
                    <label class="form-check-label" for="showProfitLoss">Show Profit/Loss</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="showCards" name="showCards">
                    <label class="form-check-label" for="showCards">Show Cards</label>
                </div>
            </div>

            <!-- Street Filter -->
            <div class="form-group">
                <label for="street">Filter by Street:</label>
                <select name="street" id="street" class="form-select">
                    <option value="">All Streets</option>
                    <option value="preflop">Preflop</option>
                    <option value="flop">Flop</option>
                    <option value="turn">Turn</option>
                    <option value="river">River</option>
                </select>
            </div>

            <!-- Action Type Filter -->
            <div class="form-group">
                <label for="action_type">Filter by Action:</label>
                <select name="action_type" id="action_type" class="form-select">
                    <option value="">All Actions</option>
                    <option value="fold">Fold</option>
                    <option value="check">Check</option>
                    <option value="call">Call</option>
                    <option value="bet">Bet</option>
                    <option value="raise">Raise</option>
                </select>
            </div>

            <div class="btn-group">
                <input type="submit" class="btn btn-primary" value="View Results">
                <button type="reset" class="btn btn-secondary">Reset Form</button>
            </div>
        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            // Show/hide fields based on analysis type
            $('#analysis_type').change(function() {
                const analysisType = $(this).val();
                
                // Reset visibility
                $('#gameIdGroup').hide();
                $('#handIdGroup').hide();
                
                // Show relevant fields based on selection
                if (analysisType === 'getPlayerStats' || analysisType === 'getGameHands') {
                    $('#gameIdGroup').show();
                } else if (analysisType === 'getHandActions') {
                    $('#handIdGroup').show();
                }
            });

            // Form validation
            $('form').submit(function(e) {
                const analysisType = $('#analysis_type').val();
                if (!analysisType) {
                    alert('Please select an analysis type');
                    e.preventDefault();
                    return;
                }

                if ((analysisType === 'getPlayerStats' || analysisType === 'getGameHands') && !$('#gameId').val()) {
                    alert('Please enter a Game ID');
                    e.preventDefault();
                    return;
                }

                if (analysisType === 'getHandActions' && !$('#handId').val()) {
                    alert('Please enter a Hand ID');
                    e.preventDefault();
                    return;
                }
            });
        });
    </script>
</body>
</html>